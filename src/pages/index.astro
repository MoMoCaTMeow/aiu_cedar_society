---
import Layout from '../layouts/Layout.astro';
import { getLectures } from '../library/microcms';

// Fetch lectures
const response = await getLectures({ fields: ["id", "title", "guest_name", "event_date", "eyecatch"] });
const lectures = response.contents;

// SEO
const seo = {
  title: 'AIU Cedar Society - 秋田とAIU生の可能性をつなぐ講演会シリーズ',
  description: 'AIU Cedar Societyは秋田国際教養大学の学生主導の公認団体です。著名なゲストを招いた講演会を通じて、学生と秋田社会をつなぎ、「出会い・学び・実践」のサイクルを創り出します。',
  keywords: 'AIU Cedar Society,秋田国際教養大学,AIU,学生団体,講演会,秋田,イベント,キャリア支援,起業家,地域活性化',
  ogType: 'website' as const,
};
---

<Layout seo={seo}>
  <div class="bg-gradient-to-b from-gray-50 to-white min-h-screen">
    {/* Hero Section */}
    <section class="relative pt-16 md:pt-20 pb-12 md:pb-16 px-4 md:px-6 border-b border-gray-200">
        <div class="container mx-auto max-w-5xl">
            <div class="relative">
                <div class="absolute top-0 left-0 w-px h-16 bg-[#006837]"></div>
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 md:mb-6 tracking-tight leading-tight pl-6">
                    秋田とAIU生の可能性を<span class="text-[#006837]">つなぐ</span>
                </h1>
                <p class="text-base md:text-lg text-gray-600 leading-relaxed pl-6 max-w-2xl">
                    AIU Cedar Societyは、学生の熱意と秋田社会の架け橋となります。<br/>
                    「出会い・学び・実践」のサイクルを創り出し、秋田の地で新たな価値を生み出していきます。
                </p>
            </div>
        </div>
    </section>
    
    {/* Lecture List */}
    <main class="container mx-auto px-4 md:px-6 py-12 md:py-16 max-w-5xl">
        <div class="flex items-center gap-4 mb-10 md:mb-14">
            <div class="w-6 h-6 bg-[#006837] bg-opacity-10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-4 h-4 text-[#006837]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                </svg>
            </div>
            <h2 class="text-2xl md:text-3xl font-bold text-gray-900 tracking-tight">
                講演会一覧
            </h2>
        </div>
        
        <div>
        {lectures.map((lecture, index) => {
            const isEven = index % 2 === 0;
            return (
                <a href={`/lectures/${lecture.id}`} class="group block mb-8 md:mb-10">
                    <article class="bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-[#006837] hover:border-opacity-30">
                        <div class={`flex flex-col ${isEven ? 'md:flex-row' : 'md:flex-row-reverse'} gap-0`}>
                            {/* Image */}
                            <div class="w-full md:w-2/5 flex-shrink-0 relative overflow-hidden bg-gray-100">
                                <div class="aspect-[210/297]">
                                    {lecture.eyecatch ? (
                                        <img 
                                            src={lecture.eyecatch.url} 
                                            alt={lecture.title} 
                                            class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-out" 
                                        />
                                    ) : (
                                        <div class="w-full h-full flex items-center justify-center text-gray-300">
                                            <svg class="w-16 h-16" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                            </svg>
                                        </div>
                                    )}
                                </div>
                                {/* Green accent overlay on hover */}
                                <div class="absolute inset-0 bg-[#006837] opacity-0 group-hover:opacity-5 transition-opacity duration-300"></div>
                            </div>

                            {/* Content */}
                            <div class="flex-1 p-6 md:p-8 flex flex-col justify-between">
                                <div>
                                    <div class="inline-flex items-center gap-2 bg-white border border-gray-200 px-3 py-1.5 rounded-full mb-4 shadow-sm">
                                        <svg class="w-3.5 h-3.5 text-[#006837]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                        </svg>
                                        <div class="text-xs font-bold text-[#006837] tracking-wider uppercase">
                                            {new Date(lecture.event_date).toLocaleString('ja-JP', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' })}
                                        </div>
                                    </div>
                                    <h3 class="text-xl md:text-2xl font-bold text-gray-900 leading-tight mb-4 group-hover:text-[#006837] transition-colors">
                                        {lecture.title}
                                    </h3>
                                    <div class="flex items-center gap-2 text-sm text-gray-600 mb-6">
                                        <div class="w-5 h-5 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0">
                                            <svg class="w-3 h-3 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                            </svg>
                                        </div>
                                        <span class="font-medium">{lecture.guest_name}</span>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2 text-sm font-bold text-[#006837] group-hover:gap-4 transition-all">
                                    <span>詳しく見る</span>
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </article>
                </a>
            );
        })}
        </div>
    </main>
  </div>
</Layout>
